
@{
    ViewBag.Title = "Register";
}
    <style type="text/css">
        label.error {
            color:red;
        }
        input.error {
            border:1px solid red;
        }
        .field-validation-error {
            color: #f00;
        }

        .field-validation-valid {
            display: none;
        }

        .input-validation-error {
            border: 1px solid #f00;
            background-color: #fee;
            font-weight: bold;
            color: #f00;
        }

        .validation-summary-errors {
            font-weight: bold;
            color: #f00;
        }

        .validation-summary-valid {
            display: none;
        }

    </style>
<h2>学生注册</h2>
@using (@Html.BeginForm("Register", "Student", FormMethod.Post, new { @class = "form-horizontal", id = "form1", name = "form1" }))
{
    <div class="form-group">
        <label for="Name" class="control-label">姓名：</label>
        @Html.TextBox("Name", null, new { @class = "form-control" })
        @Html.ValidationMessage("Name")
        @*<label  class="control-label" style="color:red" id="name1"></label>*@
    </div>
    <div class="form-group">
        <label for="Password" class="control-label">密码：</label>
        @Html.Password("Password", null, new { @class = "form-control" })
        @Html.ValidationMessage("Password")
        @*<label  class="control-label" style="color:red" id="pwd1"></label>*@
    </div>
    <div class="form-group">
        <label for="Password2" class="control-label">确认密码：</label>
        @Html.Password("Password2", null, new { @class = "form-control" })
        @Html.ValidationMessage("Password2")
        @*<label  class="control-label" style="color:red" id="pwd3"></label>*@
    </div>
    <div class="form-group">
        <label for="Age" class="control-label">年龄：</label>
        @Html.TextBox("Age", null, new { @class = "form-control" })
        @Html.ValidationMessage("Age")
        @*<label  class="control-label" style="color:red" id="age1"></label>*@
    </div>
    <div class="form-group">
        <label for="Sex" class="control-label">性别：</label>
        @Html.RadioButton("Sex", "男", isChecked: true)男
        @Html.RadioButton("Sex", "女")女
    </div>
    <div class="form-group">
        <label for="Grades" class="control-label">班级：</label>
        @Html.DropDownList("Grades", ViewBag.Grade as List<SelectListItem>, new { @class = "form-control" })
    </div>
    <div class="form-group">
        <label for="Intro" class="control-label">介绍：</label>
        @Html.TextArea("Intro", null, new { @class = "form-control" })
        @Html.ValidationMessage("Intro")
        @*<label  class="control-label" style="color:red" id="area1"></label>*@
    </div>
    <div class="form-group">
        @Html.CheckBox("Agreest", isChecked: false)
        <label for="Agreest" class="control-label">已查看《学生注册须知》</label>
    </div>
    <div class="form-group">
        <input type="submit" name="name" class="btn btn-danger" value="注册" />
    </div>
}
@*@Html.ValidationSummary() 全部一块输出*@
@*@section scripts{
    <script type="text/javascript">
        $(function () { 
            //form表单验证
            $("#form1").validate({
                //设置验证的元素验证项
                rules: {
                    Name: { required: true },
                    Password: { required: true, checkRex: true },
                    Password2: { required: true, equalTo: "#Password" },
                    Age: { required: true, range: [10, 30] },
                    Intro: { maxlength: 50 }
                },
                //对应的提示信息
                messages: {
                    Name: { required: "姓名必填" },
                    Password: { required: "密码必填", checkRex: "输入有效密码，6-12位字母数字" },
                    Password2: { required: "请再次输入密码", equalTo: "密码不一致" },
                    Age: { required: "年龄必填", range: "年龄必须在10-30之间" },
                    Intro: { maxlength: "最多输入50个字" }
                }
            })

            $.validator.addMethod("checkRex", function (value, e) {
                var regex = /^[A-Za-z0-9]{6,12}$/;
                return regex.test(value);
            })
    })
    </script>
    
    }*@
@*@section scripts{
        <script type="text/javascript">
            $(function () {
                $("#form1").bind("submit", CheckFrom);

            });
            function CheckFrom() {
                if (CheckName() && CheckPwd2() && CheckAge() && CheckArea()) {
                    return true;
                }
                else {
                    return false;
                }
            }
            function CheckName() {
                if ($("#name").val() == "") {
                    $("#name1").html("用户名不能为空");
                    $("#name").focus();
                    return false;
                }
                else {
                    $("#name1").html("");
                    return true;
                }
            }
            function CheckPwd1() {
                if ($("#pwd").val()=="")
                {
                    $("#pwd1").html("密码不能为空");
                    $("#pwd").focus();
                    return false;

                }
                else {
                    var reg = /^[A-Za-z0-9]{6,12}$/;
                    if (reg.test($("#pwd").val())) {
                        $("#pwd1").html("");
                        return true;
                    }
                    else {
                        $("#pwd1").html("密码输入不符合要求，6-12位由字母数字组成");
                        $("#pwd").focus();
                        return false;
                    }

                }
            }
            function CheckPwd2() {
                CheckPwd1();

                    if ($("#pwd").val() != $("#pwd2").val()) {
                        $("#pwd3").html("两次的密码输入不一致");
                        $("#pwd2").focus();
                        return false;
                    }
                    else {
                        $("#pwd3").html("");
                    return true;
                    }
            }
            function CheckAge() {

                    if ($("#age").val()<10||$("#age").val()>30) {
                        $("#age1").html("年龄应在10-30岁之间");
                        $("#age").focus();
                        return false;
                    }
                    else {
                        $("#age1").html("");
                        return true;
                    }


            }
            function CheckArea() {
                if ($("#area").val().length > 50) {
                    $("#area1").html("内容长度不能超过50字");
                    $("#area").focus();
                    return false;
                }
                else {
                    $("#area1").html("");
                    return true;
                }
            }
        </script>
    }*@